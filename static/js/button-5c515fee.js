import{a as o,_,R as k}from"./lib-4d799710.js";import{g as Ae,h as ze,i as Le,y as $e,D as We,B as ve,k as Be,f as De,C as F,c as me,_ as f,L as ce,l as je,E as G,S as Fe,G as Ge,u as le,o as Ue,e as Me}from"./index-f95accb3.js";import{s as Ve,c as He}from"./index-a9aae97d.js";var pe=function(n){return+setTimeout(n,16)},ge=function(n){return clearTimeout(n)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(pe=function(n){return window.requestAnimationFrame(n)},ge=function(n){return window.cancelAnimationFrame(n)});var ue=0,U=new Map;function xe(r){U.delete(r)}function w(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;ue+=1;var a=ue;function e(t){if(t===0)xe(a),r();else{var i=pe(function(){e(t-1)});U.set(a,i)}}return e(n),a}w.cancel=function(r){var n=U.get(r);return xe(n),ge(n)};var qe=0,y={};function I(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,a=qe++,e=n;function t(){e-=1,e<=0?(r(),delete y[a]):y[a]=w(t)}return y[a]=w(t),a}I.cancel=function(n){n!==void 0&&(w.cancel(y[n]),delete y[n])};I.ids=y;var $;function fe(r){return!r||r.offsetParent===null||r.hidden}function Je(r){var n=(r||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return n&&n[1]&&n[2]&&n[3]?!(n[1]===n[2]&&n[2]===n[3]):!0}var he=function(r){Ae(a,r);var n=ze(a);function a(){var e;return Le(this,a),e=n.apply(this,arguments),e.containerRef=o.exports.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,i){var s,c,l=e.props,g=l.insertExtraNode,m=l.disabled;if(!(m||!t||fe(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var v=$e(e),x=v.extraNode,N=e.context.getPrefixCls;x.className="".concat(N(""),"-click-animating-node");var P=e.getAttributeName();if(t.setAttribute(P,"true"),i&&i!=="#ffffff"&&i!=="rgb(255, 255, 255)"&&Je(i)&&!/rgba\((?:\d*, ){3}0\)/.test(i)&&i!=="transparent"){x.style.borderColor=i;var d=((s=t.getRootNode)===null||s===void 0?void 0:s.call(t))||t.ownerDocument,h=d instanceof Document?d.body:(c=d.firstChild)!==null&&c!==void 0?c:d;$=We(`
      [`.concat(N(""),"-click-animating-without-extra-node='true']::after, .").concat(N(""),`-click-animating-node {
        --antd-wave-shadow-color: `).concat(i,`;
      }`),"antd-wave",{csp:e.csp,attachTo:h})}g&&t.appendChild(x),["transition","animation"].forEach(function(E){t.addEventListener("".concat(E,"start"),e.onTransitionStart),t.addEventListener("".concat(E,"end"),e.onTransitionEnd)})}},e.onTransitionStart=function(t){if(!e.destroyed){var i=e.containerRef.current;!t||t.target!==i||e.animationStart||e.resetEffect(i)}},e.onTransitionEnd=function(t){!t||t.animationName!=="fadeEffect"||e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(!(!t||!t.getAttribute||t.getAttribute("disabled")||t.className.indexOf("disabled")>=0)){var i=function(c){if(!(c.target.tagName==="INPUT"||fe(c.target))){e.resetEffect(t);var l=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout(function(){return e.onClick(t,l)},0),I.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=I(function(){e.animationStart=!1},10)}};return t.addEventListener("click",i,!0),{cancel:function(){t.removeEventListener("click",i,!0)}}}},e.renderWave=function(t){var i=t.csp,s=e.props.children;if(e.csp=i,!o.exports.isValidElement(s))return s;var c=e.containerRef;return Ve(s)&&(c=He(s.ref,e.containerRef)),ve(s,{ref:c})},e}return Be(a,[{key:"componentDidMount",value:function(){this.destroyed=!1;var t=this.containerRef.current;!t||t.nodeType!==1||(this.instance=this.bindAnimationEvent(t))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var t=this.context.getPrefixCls,i=this.props.insertExtraNode;return i?"".concat(t(""),"-click-animating"):"".concat(t(""),"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(t){var i=this;if(!(!t||t===this.extraNode||!(t instanceof Element))){var s=this.props.insertExtraNode,c=this.getAttributeName();t.setAttribute(c,"false"),$&&($.innerHTML=""),s&&this.extraNode&&t.contains(this.extraNode)&&t.removeChild(this.extraNode),["transition","animation"].forEach(function(l){t.removeEventListener("".concat(l,"start"),i.onTransitionStart),t.removeEventListener("".concat(l,"end"),i.onTransitionEnd)})}}},{key:"render",value:function(){return o.exports.createElement(De,null,this.renderWave)}}]),a}(o.exports.Component);he.contextType=F;var Ke=o.exports.forwardRef(function(r,n){return o.exports.createElement(he,_({ref:n},r))}),Qe=Ke,Xe=globalThis&&globalThis.__rest||function(r,n){var a={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.indexOf(e)<0&&(a[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(r);t<e.length;t++)n.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(r,e[t])&&(a[e[t]]=r[e[t]]);return a},Ce=o.exports.createContext(void 0),Ye=function(n){var a,e=o.exports.useContext(F),t=e.getPrefixCls,i=e.direction,s=n.prefixCls,c=n.size,l=n.className,g=Xe(n,["prefixCls","size","className"]),m=t("btn-group",s),v="";switch(c){case"large":v="lg";break;case"small":v="sm";break}var x=me(m,(a={},f(a,"".concat(m,"-").concat(v),v),f(a,"".concat(m,"-rtl"),i==="rtl"),a),l);return o.exports.createElement(Ce.Provider,{value:c},o.exports.createElement("div",_({},g,{className:x})))},Ze=Ye,W=function(){return{width:0,opacity:0,transform:"scale(0)"}},B=function(n){return{width:n.scrollWidth,opacity:1,transform:"scale(1)"}},et=function(n){var a=n.prefixCls,e=n.loading,t=n.existIcon,i=!!e;return t?k.createElement("span",{className:"".concat(a,"-loading-icon")},k.createElement(ce,null)):k.createElement(je,{visible:i,motionName:"".concat(a,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:W,onAppearActive:B,onEnterStart:W,onEnterActive:B,onLeaveStart:B,onLeaveActive:W},function(s,c){var l=s.className,g=s.style;return k.createElement("span",{className:"".concat(a,"-loading-icon"),style:g,ref:c},k.createElement(ce,{className:l}))})},tt=et,rt=globalThis&&globalThis.__rest||function(r,n){var a={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.indexOf(e)<0&&(a[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(r);t<e.length;t++)n.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(r,e[t])&&(a[e[t]]=r[e[t]]);return a},de=/^[\u4e00-\u9fa5]{2}$/,j=de.test.bind(de);function nt(r){return typeof r=="string"}function D(r){return r==="text"||r==="link"}function at(r){return o.exports.isValidElement(r)&&r.type===o.exports.Fragment}function it(r,n){if(r!=null){var a=n?" ":"";return typeof r!="string"&&typeof r!="number"&&nt(r.type)&&j(r.props.children)?ve(r,{children:r.props.children.split("").join(a)}):typeof r=="string"?j(r)?o.exports.createElement("span",null,r.split("").join(a)):o.exports.createElement("span",null,r):at(r)?o.exports.createElement("span",null,r):r}}function ot(r,n){var a=!1,e=[];return o.exports.Children.forEach(r,function(t){var i=Me(t),s=i==="string"||i==="number";if(a&&s){var c=e.length-1,l=e[c];e[c]="".concat(l).concat(t)}else e.push(t);a=s}),o.exports.Children.map(e,function(t){return it(t,n)})}G("default","primary","ghost","dashed","link","text");G("default","circle","round");G("submit","button","reset");function ft(r){return r==="danger"?{danger:!0}:{type:r}}var st=function(n,a){var e,t=n.loading,i=t===void 0?!1:t,s=n.prefixCls,c=n.type,l=c===void 0?"default":c,g=n.danger,m=n.shape,v=m===void 0?"default":m,x=n.size,N=n.disabled,P=n.className,d=n.children,h=n.icon,E=n.ghost,be=E===void 0?!1:E,V=n.block,ye=V===void 0?!1:V,H=n.htmlType,Ne=H===void 0?"button":H,q=rt(n,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),Ee=o.exports.useContext(Fe),Te=o.exports.useContext(Ge),R=N||Te,ke=o.exports.useContext(Ce),Se=o.exports.useState(!!i),J=le(Se,2),C=J[0],K=J[1],_e=o.exports.useState(!1),Q=le(_e,2),O=Q[0],X=Q[1],A=o.exports.useContext(F),we=A.getPrefixCls,Y=A.autoInsertSpaceInButton,Ie=A.direction,b=a||o.exports.createRef(),Z=function(){return o.exports.Children.count(d)===1&&!h&&!D(l)},Pe=function(){if(!(!b||!b.current||Y===!1)){var S=b.current.textContent;Z()&&j(S)?O||X(!0):O&&X(!1)}},T=typeof i=="boolean"?i:(i==null?void 0:i.delay)||!0;o.exports.useEffect(function(){var p=null;return typeof T=="number"?p=window.setTimeout(function(){p=null,K(T)},T):K(T),function(){p&&(window.clearTimeout(p),p=null)}},[T]),o.exports.useEffect(Pe,[b]);var ee=function(S){var L=n.onClick;if(C||R){S.preventDefault();return}L==null||L(S)},u=we("btn",s),te=Y!==!1,Re={large:"lg",small:"sm",middle:void 0},re=ke||x||Ee,ne=re&&Re[re]||"",Oe=C?"loading":h,z=Ue(q,["navigate"]),ae=me(u,(e={},f(e,"".concat(u,"-").concat(v),v!=="default"&&v),f(e,"".concat(u,"-").concat(l),l),f(e,"".concat(u,"-").concat(ne),ne),f(e,"".concat(u,"-icon-only"),!d&&d!==0&&!!Oe),f(e,"".concat(u,"-background-ghost"),be&&!D(l)),f(e,"".concat(u,"-loading"),C),f(e,"".concat(u,"-two-chinese-chars"),O&&te&&!C),f(e,"".concat(u,"-block"),ye),f(e,"".concat(u,"-dangerous"),!!g),f(e,"".concat(u,"-rtl"),Ie==="rtl"),f(e,"".concat(u,"-disabled"),z.href!==void 0&&R),e),P),ie=h&&!C?h:o.exports.createElement(tt,{existIcon:!!h,prefixCls:u,loading:!!C}),oe=d||d===0?ot(d,Z()&&te):null;if(z.href!==void 0)return o.exports.createElement("a",_({},z,{className:ae,onClick:ee,ref:b}),ie,oe);var se=o.exports.createElement("button",_({},q,{type:Ne,className:ae,onClick:ee,disabled:R,ref:b}),ie,oe);return D(l)?se:o.exports.createElement(Qe,{disabled:!!C},se)},M=o.exports.forwardRef(st);M.Group=Ze;M.__ANT_BUTTON=!0;var dt=M;export{dt as B,Qe as W,ft as c,w};
